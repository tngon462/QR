function makeTableTile(i, onChange, onRefresh) {
  const card = document.createElement('div');
  card.className = 'bg-white rounded-xl shadow-sm border border-gray-200 p-3 flex flex-col justify-between';

  const left = document.createElement('div');
  left.innerHTML = `<div class="font-semibold text-gray-800">Bàn ${i}</div>
                    <div id="tb-status-${i}" class="text-xs text-gray-500">Đang tải…</div>`;

  const wrapper = document.createElement('div');
  wrapper.className = 'toggle self-end';
  const input = document.createElement('input');
  input.type = 'checkbox';
  input.id = `tb-toggle-${i}`;
  const label = document.createElement('label');
  label.setAttribute('for', input.id);
  wrapper.appendChild(input);
  wrapper.appendChild(label);

  input.addEventListener('change', () => onChange(i, input.checked ? 'on' : 'off'));

  const btnRefresh = document.createElement('button');
  btnRefresh.textContent = 'Làm mới';
  btnRefresh.className = 'mt-2 px-3 py-1 text-xs rounded bg-blue-500 text-white hover:bg-blue-600';
  btnRefresh.addEventListener('click', () => onRefresh(i));

  card.appendChild(left);
  card.appendChild(wrapper);
  card.appendChild(btnRefresh);

  return { card, input };
}
